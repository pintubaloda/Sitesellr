Sitesellr Cumulative Requirement Status
Updated: 2026-02-18

Requested Scope	Status	Developed Now	Remaining
Server-side validation + DTO tightening	Developed (this pass)	Tightened DTO validation with DataAnnotations and server checks for Merchant Ops, Team, Invites, and Role Templates APIs (invalid action/role/scope/department/status blocked, duplicate assignment checks, normalized permission CSV).	Apply same strict DTO validation pattern across older legacy endpoints not yet covered.
Migration files for governance tables	Developed (this pass)	Added idempotent EF migration `20260218142000_GovernanceTables` for merchant onboarding, role templates, sensitive approvals, franchise units/stores, and backoffice assignments.	Generate designer/snapshot via `dotnet ef` once .NET SDK is available in CI/dev environment.
Smoke-test checklist for new admin pages/APIs	Developed (this pass)	Added `SMOKE_TEST_CHECKLIST_ADMIN.md` covering Platform RBAC, Merchants, Merchant Ops, Team, Invite Acceptance, Role Templates, Audit Logs, and API negative validation checks.	Automate this checklist in integration/e2e pipeline.

Previous in-progress governance modules	Developed (core)	Lifecycle ops, onboarding profile, team invite/accept, role templates, approvals queue, franchise/backoffice workflows, and audit logging remain implemented and wired.	Production hardening: SMTP reliability, approval chains, immutable audit retention, enterprise permission builder UX.

Git state
- Last pushed commit: 0f4b927
- Current validation + migration + smoke-checklist changes are local and pending commit/push.

---
Cumulative Main Requirement Status Matrix (Do Not Remove Previous Entries)
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
User / Merchant Management	Merchant onboarding flow (register->OTP placeholder->plan->store setup), tenant resolver middleware, core RBAC scaffold, team invite/accept, lifecycle APIs/UI, franchise/backoffice base models	Platform owner seed/delegation flows, custom role builder UX, lifecycle bulk ops and approval chains	Business onboarding automation, full franchise hierarchy workflows, enterprise role governance
Storefront System (Retail + Wholesale)	Landing + auth/onboarding screens, responsive frontend base	Theme/layout pages exist but not full storefront CMS, B2B visibility toggles not complete	Theme marketplace, drag-drop homepage builder, navigation builder, static page CMS, hybrid retail/wholesale runtime controls
Product Management	Products/categories/variants/media core entities + CRUD APIs wired	Bulk upload, advanced inventory rules, wholesale MOQ/tier pricing partial placeholders	Complete wholesale rule engine (MOQ/pack/case/tier), Excel import/export, richer media/video pipeline
Order Management	Orders/order-items core entities + CRUD APIs, lifecycle status fields, notes basics	Invoice/GST flow partial, refund/cancel flow partial, shipment integrations partial	Complete unified order engine (retail/wholesale/social/manual), GST invoice generation, refunds + courier integrations + audit-grade transitions
Customer Management	Customers + addresses + CRUD APIs wired	Customer groups/segmentation and B2B credit ledger partial	Guest checkout model, GSTIN enforcement rules, customer-specific pricing matrix, full segmentation workflows
Payments & Financial Features	Payment plugin interface scaffold, billing plan/subscription models scaffold	Real gateways, tokenized card/wallet storage, UPI/COD flows incomplete	Production gateway plugins, partial payment/refund settlement flows, reconciliation, payouts, GST finance reporting
Store Builder & Customization	Branding/auth UI customization done for onboarding/auth pages	Theme controls minimal and not merchant self-serve	Live preview editor, section builder, custom CSS/JS sandbox, banner/slider/store identity management
Plugin / App Ecosystem	Plugin architecture direction started (payment plugin registry)	No install/uninstall marketplace flow yet	Full app marketplace, permission scopes, plugin billing, developer portal, integration categories
Logistics & Fulfillment	Data model hooks available via existing order domain	No full logistics module yet	Shipping rule engine, courier APIs, pincode serviceability, labels, returns, wholesale freight workflows
Marketing & Growth	Basic platform shell only	Discount/coupon foundations not fully implemented	Discount engine, flash sales, combo offers, abandoned cart recovery, email/SMS/WhatsApp automation, SEO/social tools
Reporting & Analytics	Audit logs viewer + key admin logs	Sales/traffic/product analytics dashboards partial	Full BI dashboards, GST/tax reports, conversion funnels, exportable analytics
Security & Compliance	Opaque tokens, Turnstile verify wiring, rate-limit hooks, tenancy isolation, policy-based auth, audit logs	MFA/WebAuthn partial config only, CSRF hardening partial, DataProtection key persistence pending	Production-grade MFA/WebAuthn rollout, KMS encryption for secrets, backup/recovery controls, fraud scoring + incident workflows
Advanced / Competitive Features	Architecture allows future extensibility	No AI/multi-channel modules yet	AI assistants, smart pricing/fraud/catalog, WhatsApp/POS/marketplace channel connectors
SaaS Business Engine	Billing plan/subscription base models + some admin endpoints	Usage metering and feature gating partial	Trial automation, usage limits, upgrade/downgrade, add-on monetization, subscription ops dashboard
Technical Architecture	Backend .NET + PostgreSQL + React frontend wired; Docker/Render deployment files present	Read/write split, replication strategy, infra automation partial	Production cloud architecture (AWS/Azure), HA, observability, backups, scaling playbooks

---
Storefront CMS & Theme Engine Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Storefront System (Retail + Wholesale)	Theme catalog API + store theme apply with plan eligibility checks; store design settings API (logo, favicon, header/footer/banner/design tokens); homepage layout API (sections JSON); navigation menu API; static pages CRUD API; Store Builder UI fully wired to real backend endpoints	Drag-and-drop behavior is section-list based (not full visual DnD canvas), media upload is URL-based for now, no public storefront renderer yet	Public storefront rendering engine, visual DnD editor, menu nesting UI, file asset upload pipeline/CDN, B2B mode controls (hide price/login-to-view/customer-specific catalog)
Store Builder & Customization	Admin `/admin/store-builder` now works with real APIs for themes, customization, homepage sections, navigation, and static pages	Advanced theme live preview and granular widget setting forms are partial	Theme marketplace billing automation, advanced section widgets, reusable layout templates, localization controls
Plugin / App Ecosystem	Theme catalog supports free/paid + allowed plan code gates at platform level	No platform owner UI for theme CRUD yet (API available)	Full app marketplace UX, install/uninstall lifecycle, plugin billing and review workflow

---
Store Builder & Customization Expansion
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Theme / Design Engine	Theme marketplace API + platform owner theme create/list UI + store theme apply with plan gating; live preview runtime route `/s/:subdomain/*`; section-based homepage layout persistence + editor; custom JSON token controls (header/footer/banner/design)	Visual drag-drop is reorder-based (up/down + section editor), advanced WYSIWYG widget tooling is partial	Full visual drag canvas with nested sections, versioned theme publishing workflow, safe sandbox for merchant custom JS
Branding Controls	Logo/favicon upload API (`/storefront/media/upload`) + media asset registry, colors/typography via design tokens JSON, banners/sliders via JSON blocks, storefront runtime uses active branding	Media pipeline currently local static storage (or ASSET_BASE_URL mapping) and not fully external CDN-managed	Managed CDN integration, asset optimization/transform pipeline, advanced typography presets/UI controls
Storefront Runtime + B2B Visibility	Public storefront APIs + frontend renderer consume theme/layout/navigation/pages/products; pricing visibility flags wired (`showPricing`, `loginToViewPrice`, `catalogMode`, `catalogVisibilityJson`)	Customer-specific catalog visibility still JSON-driven (no business-rule UI), login-gated pricing policy needs end-user auth enforcement on public storefront	Complete B2B rule engine + customer-group catalog filters + enforced authenticated B2B storefront sessions

---
Custom Domain + Free SSL Utility Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Custom Domain + SSL	Store domain management API + UI (add/list/verify/issue SSL), free SSL provider abstraction added (`ISslProvider`), Let's Encrypt shell provider integrated via `SSL_ISSUER_COMMAND`, domain SSL status tracking (pending/issuing/active/failed), expiry/error persisted	DNS verification currently manual confirm endpoint (designed for Cloudflare DNS workflows), certificate provisioning depends on system-level ACME command configuration	Automated Cloudflare DNS-01 verification API integration, auto-renew scheduler/worker, paid SSL marketplace providers, cert deployment automation to edge/proxy infrastructure
Store Builder / Storefront Security	Public storefront runtime + B2B visibility flags retained and integrated with current settings	Strict custom JS sandbox not implemented yet	Isolated custom JS runtime with allowlist, CSP nonce enforcement, permission-scoped app scripts

---
Build Fix Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Migration Build Stability	Fixed storefront CMS migration compile syntax for CI	-	-

---
Build Fix Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Migration Build Stability	Fixed storefront public/B2B/media migration compile syntax for CI	-	-

---
Build Fix Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Migration Build Stability	Fixed store domain/free-SSL migration compile syntax for CI	-	-

---
Cloudflare Tenant Subdomain + Auto SSL Flow Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Tenant Subdomain (store.sitesellr.com)	Cloudflare DNS integration service added; on store create/update system auto-ensures tenant CNAME via Cloudflare API using configured zone/token/base domain/ingress host	No bulk reconciliation job yet for existing stores	Backfill worker for all existing stores and drift detection dashboard
Custom Domain + Free SSL	On custom domain add, system now auto-attempts DNS resolve verification and SSL issuance; if auto fails, UI fallback button `Verify Now` + `Issue SSL` is available	Auto verify currently checks DNS resolvability (not full delegated DNS TXT validation automation)	Full Cloudflare DNS-01 TXT automation per custom domain provider integration, scheduled auto-renew queue and retry backoff

---
Visual Drag-Drop Canvas Foundation Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Visual Drag-Drop Canvas	Added layout schema validation API, version history table/API, publish + rollback APIs, Store Builder undo/redo timeline, nested block (children) editing in section tree, responsive preview now renders nested blocks	WYSIWYG freeform drag surface is still simplified (list/tree interactions), nesting depth tooling basic, no collaborative editing	Full canvas interaction engine with true drag-n-drop between containers, deep nesting UX, advanced inspector panels, multi-user editing controls
Versioning & Governance	Draft versions auto-created on save, publish/rollback wired to version IDs, version list shown in UI	No release notes per version, no lock/freeze workflow, no scheduled publish	Full version governance (approval gates, scheduled publish, diff viewer, immutable release snapshots)

---
WYSIWYG Canvas Deep-Nesting Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Visual Drag-Drop Canvas	Added freeform nested canvas rendering with recursive drop targets, node-level drag/reparent as child, advanced inspector fields (type/title/style settings), and JSON-backed node identity model	Reparent currently supports drop-as-child (no before/after drop zones yet), no multi-select/group operations	Pixel-perfect freeform absolute positioning mode, container grid snapping, full drag handles by breakpoint
Editor UX	Undo/redo timeline maintained with deep snapshots; selected-node inspector edits settings JSON + style fields in real time	No timeline scrubber UI and no collaborative conflict resolution	Operational transform/CRDT collaboration, timeline diff viewer, visual history playback

---
Canvas Advanced UX Update (Before/After + Grid + Timeline)
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Visual Drag-Drop Canvas	Added before/after drop zones, deep nested drag-as-child and sibling positioning, absolute/freeform mode toggle, grid snapping controls, inspector position sizing (x/y/w), timeline playback panel with step jump and node diff counters	Absolute mode currently manual-position via inspector values (not direct pointer drag), playback is local editor history (single-user)	Direct pointer-based absolute drag handles, multi-user collaborative timeline, semantic diff merge workflow

---
Collaboration Timeline & Diff Foundation Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Collaboration Timeline / Diff Playback	Added backend version-diff API (added/removed/renamed node deltas), editor collaboration session APIs (heartbeat/list/end), and frontend collaboration panel with active editors + diff summary viewer	Single-store polling model only; no real-time websocket sync or conflict merge	CRDT/OT real-time merge, live cursor presence, conflict resolution UI and permissions workflow

---
Realtime Sync / OT-like Merge / Live Cursor Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Realtime Sync (WebSocket)	Added websocket collaboration endpoint `/ws/storefront/{storeId}` with snapshot/presence/op messaging and client heartbeat integration in Store Builder	In-memory room state only; no distributed backplane yet	Redis/backplane fanout for multi-instance horizontal scale
OT/CRDT Conflict Handling	Implemented revision-based operation acceptance + conflict response (`conflict` returns server snapshot) for safe convergence	This is OT-like revision gating, not full CRDT/OT transform algorithm	True CRDT/OT transform engine with operation-level semantic merge
Live Cursor Co-editing	Added live cursor broadcasts (`cursor` events) and remote cursor presence indicators in builder UI	Cursor coordinates currently minimal (node-focused, not pixel cursor map)	Full live cursor coordinates, colored user avatars, viewport-aware cursor rendering

---
Build Fix Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Realtime Collaboration Build Stability	Fixed compile/runtime compatibility for websocket send calls and tenancy warning cleanup	-	-

---
B2B Customer-Group Visibility Engine Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
B2B Customer-Group Visibility Engine	Added DB models/tables for customer groups, group members, and visibility rules; added admin APIs for group/rule management; public storefront enforcement now filters products/pages/theme blocks by allow/deny rules and preview group id	Category-level enforcement model exists but not yet applied in product query path; preview-as-group UI is basic (ID-driven), rule builder is form-based (not visual)	Rich rule-builder UX with entity pickers, customer-group assignment UI at scale, full category cascade enforcement, policy simulation/audit and conflict resolution workflow

---
Registration CORS + Test Role Credentials Seed Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Registration CORS	Adjusted CORS policy: explicit origins now enable credentials; wildcard stays non-credential mode for safety	If frontend uses `withCredentials=true`, wildcard CORS still fails by browser design	Set concrete `CORS_ORIGINS` in all deploy envs and keep front/back URL alignment
Test Role Login Setup	Added optional runtime dev seed (`SEED_TEST_USERS=true`) to generate platform/store role users with known password and assign roles/store demo data	Seeding is env-flagged and intended for non-production test only	Separate secure test-fixture bootstrap pipeline for CI/staging with rotated secrets

---
Seed Credential Reliability Fix
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Test Role Login Stability	Seed flow now enforces known password + unlocked state for all seeded test users on startup	-	-

---
Test Password Default Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Test Role Login Setup	Default seed password updated to `9414064554` when `TEST_USER_PASSWORD` is not provided	-	-

---
Auth CSRF Fix Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Authentication Flow Stability	CSRF middleware now exempts auth bootstrap endpoints (login/register/refresh/logout/onboarding/team invite accept) to prevent first-login `csrf_invalid` failures	-	-

---
Role-Based UI Visibility Update
Updated: 2026-02-18

Module Name	Developed	Partial Developed	Need To Develop
Platform vs Store Feature Visibility	Added backend access summary endpoint (`GET /api/auth/access`) and dynamic sidebar visibility by platform/store scope so platform owner/staff and store users no longer see identical menu options	Page-level button/action guards still partly API-enforced (403 fallback) and not fully hidden in all screens	Complete route/action-level guard matrix and per-component permission gating for every admin view

Update 2026-02-18 19:16 IST - Platform Owner (Super Admin) governance scope
Module | Developed | Partial Developed | Need To Develop
Platform Owner Permission Matrix | Explicit permission catalog added across governance/finance/security/plugin/API/webhook domains | Role-derived template only; no separate per-user platform permission grants yet | Full per-user platform permission assignment UX + storage + conflict resolution
High-Risk Action Protection | Reason capture enforced on sensitive RBAC/lifecycle writes; optional step-up enforcement via config/header; audit log writes added | Header-based step-up only (no real 2FA challenge chain) | End-to-end 2FA step-up flow, dual control approval, signed/immutable audit ledger
Platform/Admin UI Scope Isolation | Sidebar now scope-filters so platform owner does not auto-see store-only menus unless store context exists | Existing pages still mixed in some routes depending on user mapping | Dedicated platform console IA split from store console with explicit impersonation mode

Update 2026-02-19 08:48 IST - Storefront System Theme Marketplace
Module name | developed | partial developed | need to develop
Customizable themes/templates | 10 category themes (free + paid) seeded, plan-eligibility apply flow active, merchant-side theme filter/search in Store Builder UI | Theme previews are image/card-based; runtime rendering still section-json centric | Full packaged theme runtime engine with deeper template inheritance and advanced live preview
Mobile responsive design | Store builder and theme catalog UI supports responsive grid behavior | Per-theme mobile QA matrix not automated | Dedicated performance budgets + Lighthouse gates per theme variant
Homepage builder (drag & drop sections) | Existing section-based builder + reorder + validation + versions already available | Full visual freeform canvas still partial | Advanced WYSIWYG constraints and reusable section presets per theme
Navigation / menus | Existing primary menu JSON editor is available | No visual nested menu designer yet | Full multi-level visual menu editor with visibility rules by customer type/device
Static pages (About, Contact, Policy) | CRUD + SEO fields already available | Rich block templates for policy/legal pages not yet | Template library + compliance presets per category

Update 2026-02-19 08:52 IST - Theme lifecycle management (Platform Owner)
Module name | developed | partial developed | need to develop
Theme marketplace governance | Platform owner can publish/unpublish themes, edit pricing, update plan mapping CSV, set featured flag + featured rank, with sorted catalog exposure | Single-row editing flow, no bulk operations | Bulk lifecycle operations + guarded approvals for high-risk catalog changes
Theme monetization controls | Free/paid theme setup and plan eligibility enforcement is active end-to-end | No promotional pricing windows/coupon linkage | Time-bound pricing, campaign bundles, and upsell funnels
Theme ranking controls | Featured ranking is now persisted and used in platform/store ordering | No strategy presets (new/seasonal/top conversion) | Ranking strategy automation and analytics-driven reorder suggestions

Update 2026-02-19 09:11 IST - Storefront builder/navigation/wholesale UX
Module name | developed | partial developed | need to develop
Navigation / menus | Nested menu editing and recursive public rendering implemented | Reordering and advanced visibility rules (customer type/device/login) not complete | Full visual tree drag-reorder + conditional display engine
Homepage builder premium blocks | Section marketplace added with free/premium presets and one-click add | Premium presets are not entitlement-gated yet | Paid section entitlement, checkout, and analytics-based upsell
Wholesale storefront behavior | Wholesale/hybrid mode now displays MOQ messaging and Request Quote CTA in public product cards | Quote CTA is UI-only, no backend inquiry pipeline | Quote management APIs + merchant quote inbox/workflow

Update 2026-02-19 09:19 IST - Requested storefront gaps closure
Module name | developed | partial developed | need to develop
Nested menu drag-reorder + conditional visibility | Nested menu hierarchy editor, visibility filters (customer/login/device), and sibling reorder controls are implemented and wired to public renderer | Reorder is up/down control instead of pointer drag-drop | Full drag-drop tree reorder with drop-zones and keyboard accessibility
Premium section entitlement/billing enforcement | Backend entitlement resolution + guarded homepage layout validation/save + frontend lock/disable states by plan implemented | Entitlement source is plan-rule mapping; no paid section checkout yet | Marketplace billing for premium sections and entitlement purchase ledger
Quote inquiry workflow for Request Quote | Public quote submit API + store admin list/status APIs + Store Builder processing UI + public button wiring implemented | No auto-notification, assignment, or SLA workflow yet | Add notification channels, assignee queues, and quote-to-order conversion pipeline

Update 2026-02-19 09:26 IST - Requested advanced menu/quote scope
Module name | developed | partial developed | need to develop
Menu drag-drop + conditional visibility | DnD drop before/after/as-child, base filters, and advanced boolean rule evaluation support implemented | Advanced rules configured via JSON input (not full visual builder) | Full graphical rule builder with condition groups and validation UX
Quote assignment/SLA automation | Assignment, priority, SLA fields + APIs + email notifications + SLA automation run endpoint implemented | Automation is manually triggered; not background scheduled | Scheduled workers, escalation ladders, and SLA dashboard analytics
Premium section enforcement | Guardrails remain active in validate/save and UI lock states | Billing/entitlement purchase flow still absent | Paid entitlement checkout + ledger + revocation handling

Update 2026-02-19 09:34 IST - Requested 1..7 backlog implementation progress
Module name | developed | partial developed | need to develop
Visual branding presets + typography packs | One-click branding presets and typography pack application available in Store Builder + runtime typography surfaced in public preview | Typography options are config-driven, not full design token studio | Full token studio with per-theme font asset management
Rich category pages + advanced list + sticky ATC | Category filters, grid/list modes, cart accumulation, sticky checkout bar added | Dedicated PLP/PDP templates still basic | Full dynamic PLP/PDP design system with faceting and merchandising slots
MOQ/bulk messaging + quote/inquiry flow | MOQ + pack-size messaging wired + quote workflow + inquiry management active | Product-specific MOQ/tier rules still limited | Product-level bulk pricing matrix and quote-to-order automation
Full storefront checkout UX | Public checkout endpoint and storefront checkout flow integrated | Baseline checkout (no full shipping/tax/payment orchestration) | Complete production checkout stack with payment callbacks and shipping/tax modules
Premium marketing blocks + campaigns | Premium block presets and campaign templates added and enforceable by entitlement | Premium marketplace billing not yet linked | Paid block entitlement purchase and lifecycle
Theme runtime package + variants | Runtime schema fields (`TypographyPack`, `LayoutVariant`, `RuntimePackageJson`) added and surfaced in preview payload | Runtime is metadata-driven, not full isolated rendering engine | Full packaged runtime system per theme with component variant loading
Theme preview before apply (platform/store owners) | Preview mode implemented with `previewThemeId` query in storefront, accessible from Store Builder and Platform Themes UI | Preview security is URL-param based for internal admin use | Signed preview sessions and explicit permission-guarded preview tokens

Update 2026-02-19 09:38 IST - Build stabilization
Module name | developed | partial developed | need to develop
Backend compile stability | Fixed premium entitlement helper compile break in StorefrontController | N/A | Continue CI coverage for new controller helpers

Update 2026-02-19 09:43 IST - Deployment stability hotfix
Module name | developed | partial developed | need to develop
Render deploy stability | Fixed startup SQL formatting crash in Program.cs (escaped braces for JSON defaults) | N/A | Continue replacing risky raw-sql literals with migration-safe or parameter-safe patterns

Update 2026-02-19 10:01 IST - Closure on role/env dependent and UX gap items
Module name | developed | partial developed | need to develop
Platform role access dependency | Owner bootstrap password flow added for easier platform owner activation (`PLATFORM_OWNER_BOOTSTRAP_PASSWORD`) | Still requires correct env + seeding strategy in production | Formal platform bootstrap admin flow with one-time setup token
Quote notifications dependency | Store-level quote alert email supported + env fallback | SMTP still required for actual delivery | Queue-backed retries and provider failover
Premium entitlement transparency | Entitlement check + UI lock state already active and retained | Merchant plan management UX still separate | In-app upgrade purchase path from locked section cards
Menu advanced rule builder | Visual rule rows (field/op/value + AND/OR mode) added (no JSON typing required for normal use) | Complex nested condition groups not yet visualized | Full condition-group expression designer
Menu reorder UX | DnD drop zones + up/down controls available | Not yet polished with tree ghost/animations | Production-grade tree DnD interaction layer
Checkout orchestration | Added payment callback endpoint to move from pending->paid states | Callback currently app-driven simulation | Gateway-signed webhook flow + reconciliation jobs
Theme runtime isolation | Runtime metadata now actively influences renderer behavior | Still not fully isolated package runtime | Full isolated runtime engine with strict component boundaries

Update 2026-02-19 10:18 IST - Role/permission conformance pass
Module name | developed | partial developed | need to develop
Role = permission-bundle model | Expanded permission dictionary and bundle mapping for platform/store roles implemented | Some legacy policy names still coexist for backward compatibility | Full policy migration to strictly new permission namespace
Test user permission binding | Seeded test users now receive explicit store permissions by role bundle at startup | Platform permissions remain runtime-derived (not persisted per-user grants) | Add persisted platform permission overrides UI and storage
Platform staff scoped permissions | Staff role now resolves scoped template permissions in tenancy context | Department-specific variants (support/finance/risk) still consolidated | Split staff templates by department with assignment UX

Update 2026-02-19 10:27 IST - Permission verification observability
Module name | developed | partial developed | need to develop
Permission verification tooling | Added `/api/auth/permissions` endpoint for effective permission introspection by logged-in user | Debug endpoint is read-only API view | Add admin UI page to compare expected-vs-effective role bundles

Update 2026-02-19 10:43 IST - Frontend permission gating hardening
Module name | developed | partial developed | need to develop
Permission-based menu rendering | Sidebar now gated by effective permission mappings from `/api/auth/permissions` for each menu item | Current mapping uses `requiredAny` pattern; some modules may need stricter `requiredAll` semantics later | Add central permission map registry + automated menu-permission consistency tests

UPDATE [2026-02-20] - STOREFRONT THEME PROFESSIONALIZATION
Module: Storefront System (Retail + Wholesale Ready)
- Developed:
  - Professional storefront layout with commercial header/menu/search/cart/login and full footer blocks.
  - Product listing and detail runtime routes integrated under public storefront path.
  - Add-to-cart flow and storefront checkout form wired to backend public checkout endpoint.
  - Wholesale mode quote CTA retained and integrated in PLP/PDP where applicable.
- Partial:
  - Shopify-grade deep per-theme runtime matrix (category-level advanced template families).
  - Theme marketplace billing automation for premium campaigns/sections.
  - Full drag-drop builder polish for enterprise editor behavior.
- Pending:
  - Production-grade customer storefront auth/session lifecycle (beyond layout login form).

UPDATE [2026-02-20] - SHOPIFY-GRADE STOREFRONT ENGINE INCREMENT
Module: Deep per-theme PLP/PDP runtime variants
- Developed: Theme model + API + storefront runtime now support category-grade PLP/PDP variant selection.
- Partial: Expanded theme-pack matrix and per-theme fully independent runtime package isolation still in progress.

Module: Campaign/template marketplace with billing
- Developed: Campaign template catalog, plan-mapping, store purchase/activation subscription records, and Store Builder Purchase+Apply flow.
- Partial: Full payment callback settlement and accounting reconciliation layer still pending.

Module: Real customer auth/session behind storefront login
- Developed: Register/login/me/logout with opaque hashed session cookie and DB-backed customer sessions.
- Partial: Forgot-password, MFA/2FA for customers, and device/session management UI pending.

Module: Visual drag-drop builder polish
- Partial: Existing structured drag-drop + undo/redo + version publish + collaboration hooks retained and integrated with campaign runtime.
- Need to develop: Enterprise freeform canvas, deep nested target inspector, advanced timeline/replay collaboration UX.

UPDATE [2026-02-20] - PENDING CLOSURE PASS
- Theme Runtime Engine:
  - Developed: Category-grade PLP/PDP variant metadata and runtime resolver implemented.
  - Developed: Runtime package key allowlist enforcement in storefront renderer.

- Visual Builder:
  - Partial: Timeline playback controls upgraded (play/pause/reset/scrubber) with existing collaboration/versions.
  - Pending: Full enterprise freeform nested canvas parity remains (advanced target matrix/CRDT depth).

- Campaign Billing Orchestration:
  - Developed: Callback/refund/chargeback endpoints with payment event ledger entries.
  - Partial: Gateway-native webhook signature verification and deep reconciliation automation still pending.

- Customer Auth Hardening:
  - Developed: Email verification, forgot/reset password, session list/revoke, MFA challenge endpoints + storefront security UI.
  - Partial: production-grade external email/SMS OTP provider + strong MFA factors rollout pending.

- Ops/Deployment:
  - Developed: Smoke-test checklist expanded for campaign billing + customer auth + variant runtime scenarios.
  - Required on deployment: run one migration-on-startup cycle and execute smoke tests.

UPDATE [2026-02-20] - PROFESSIONAL ECOMMERCE THEME CONTRACT
- Developed:
  - Mandatory template contract enforcement for every platform theme.
  - Section/component schema contract validation (no raw HTML editing path).
  - Mandatory plugin hook-point contract enforcement for theme/plugin compatibility.
  - Theme version + contract metadata stored per theme and exposed to runtime APIs.
- Partial:
  - Per-theme runtime isolation sandbox is enforced via allowlist handling but still not a separate execution sandbox engine.

UPDATE [2026-02-20] - SUBSCRIPTION = CAPABILITY ENVELOPE (PHASE 1)
- Developed:
  - Plan capability model implemented (theme/product/payment/sms/email/whatsapp/plugin gating attributes).
  - API/service-layer enforcement started for critical actions (products create, theme apply).
  - Subscription capability + usage APIs added for store-level visibility.
  - Platform billing plan management APIs added for capability editing.
  - Onboarding plan selection API now includes capability summaries for plan comparison.
- Partial:
  - Full enforcement across all domains (gateways/plugins/communication sends) still to wire into each module endpoint.
  - Distributed cache (Redis) for capability reads not yet enabled; current service uses in-process cache.

UPDATE [2026-02-20] - PLATFORM GLOBAL BRANDING
- Developed:
  - Platform-level branding settings service and API.
  - Platform owner UI controls for global brand name/logo/colors/fonts and landing hero copy override.
  - Branding effects wired to admin dashboard shell and landing page rendering.

UPDATE [2026-02-20] - PRODUCT MANAGEMENT GO-LIVE HARDENING (PHASE)
- Developed:
  - Inventory reservation and atomic stock deduction safeguards introduced.
  - Category limit enforcement introduced via new categories API.
  - Bulk CSV import async job framework with row-level validation report.
  - Public storefront listing/page caching added.
  - Load-test and backend↔UI wiring status artifacts added.
- Partial:
  - Frontend UX for product import job monitor and explicit reserve/release checkout calls can be further polished.
  - Full-scale distributed cache and advanced inventory reservation lifecycle (expiry daemon) still evolvable.

UPDATE [2026-02-20] - FRONTEND WIRING PASS (PRODUCT IMPORT + CART RESERVATION)
- Developed:
  - Product module UI now supports CSV import upload and backend async import job monitoring.
  - Product import row-level validation errors are surfaced in admin UI.
  - Storefront cart/checkout now calls real reservation APIs:
    - reserve in cart or automatically on checkout entry
    - enforce reservation before checkout submit
    - release reservation after successful checkout
- Partial:
  - Reservation expiry countdown/recovery UX can be improved (backend currently returns expiresInSeconds but countdown is not rendered yet).

UPDATE [2026-02-20] - PLATFORM USER CATEGORY ASSIGNMENT UI
- Developed:
  - Platform RBAC page now supports user categorization (`Platform Users`, `Store Users`) in a side menu list.
  - Backend APIs added to fetch assignable users/stores for permission operations.
  - User selection now drives role/permission assignment forms directly.
- Partial:
  - Fine-grained permission matrix UI (checkbox per permission group) is still pending; current entry remains CSV-based.

UPDATE [2026-02-20] - FRONTEND STABILITY FIX (CI)
- Developed:
  - Fixed React hooks ordering violations on storefront page; frontend lint/build gate no longer fails on those hook-rule errors.

UPDATE [2026-02-20] - PLATFORM OWNER MENU (SUPER ADMIN)
- Developed:
  - Platform-owner sidebar now follows governance/risk/configuration-first structure.
  - Added dedicated platform section routes for critical super-admin surfaces.
  - Sidebar behavior now excludes store-only modules for platform owner accounts.
- Partial:
  - New platform sections currently provide structured module shells; deep functional implementations are still pending per module.

UPDATE [2026-02-20] - MERCHANT/STORE MANAGEMENT
- Developed:
  - Platform owner merchant screen now displays tenant store mapping details directly under each merchant.
- Impact:
  - Demo merchant and demo store linkage is now visible from the same module.

UPDATE [2026-02-20] - PLATFORM OWNER MENU BACKEND WIRING
- Developed:
  - All newly added platform-owner sidebar modules are now backend-wired (not static placeholders).
  - Super-admin functional surfaces now include live governance analytics and configuration actions.
- Partial:
  - Some module domains currently rely on existing platform datasets (orders/audit/login/theme/campaign) as phase-1 sources; deeper dedicated domain models can be expanded in phase-2.

UPDATE [2026-02-20] - SIMPLE RBAC MODE
- Developed:
  - Platform owner now assigns access in simplified way by user type defaults.
  - Only two assignment targets exposed in UI: Platform Staff and Store Owner.
- Reduced complexity:
  - Removed manual CSV permission handling from primary RBAC screen.

UPDATE [2026-02-20] - RBAC UI MODERN ROLE FLOW
- Developed:
  - Role management UX now matches operational flow: choose type -> choose user -> see current role -> update.
  - Platform owner role assignment no longer appears as CSV editing.
- Impact:
  - Cleaner and faster permission governance for platform owner.

UPDATE [2026-02-20] - CSRF RELIABILITY FIX
- Developed:
  - Backend CSRF middleware adjusted to avoid blocking Bearer-token authenticated admin API updates.
- Impact:
  - Platform RBAC role update actions no longer fail with `csrf_invalid` in token-authenticated flow.

UPDATE [2026-02-20] - RBAC ROLE VISIBILITY
- Developed:
  - Role list now matches selected user type context (platform roles vs store roles).
- Impact:
  - Avoids misleading `No Platform Role` message when browsing Store Users.

UPDATE [2026-02-20] - AUTO ROLE MENU ON LOGIN
- Developed:
  - Role-based dashboard menu now auto-resolves at login without requiring manual store selection/header.
- Impact:
  - Assigned roles reflect instantly in visible menus for store users.

UPDATE [2026-02-20] - STORE CONTEXT AUTO-RESOLUTION
- Developed:
  - Store users now auto-resolve to a valid store context after login, even when stale store id exists from prior session.
- Impact:
  - Eliminates false `Store is not selected` blocks in store-owner admin pages.

UPDATE [2026-02-20] - STORE OWNER LIVE MODULES
- Developed:
  - Dashboard, Marketing, and Analytics are now backend-wired using live store data.
  - Removed dependency on static mock datasets for these three modules.
- Impact:
  - Store-owner operational reporting and marketing screens now reflect real tenant data.

UPDATE [2026-02-20] - STORE USER PERMISSION BASELINE FIX
- Developed:
  - Store role templates now include required store settings read/write baseline permissions for proper store context loading.

UPDATE [2026-02-20] - STORE CONTEXT RESOLUTION STABILITY
- Developed:
  - `/api/stores` now returns membership-scoped store list for authenticated store users.
  - Platform users retain platform-wide store listing.
- Impact:
  - Eliminates persistent `Store is not selected` state for valid store-owner/store-staff users during login and dashboard load.

UPDATE [2026-02-20] - STORE CONTEXT BINDING ON LOGIN
- Developed:
  - Auth token response now includes default mapped store id for store users.
  - Frontend applies store id immediately after login/refresh-compatible auth flows.
  - Logout now clears previous store context to prevent stale tenant scope.
- Impact:
  - Store owner/staff can enter dashboard without manual `REACT_APP_STORE_ID`.
  - Reduces cross-user store-context conflicts in shared browser sessions.

UPDATE [2026-02-20] - THEME MARKETPLACE ACTIVATION/PREVIEW STABILITY
- Developed:
  - Theme activation UX improved with explicit Activate action and better plan-gating messages.
  - Active-theme preview button wired from store builder.
  - Preview routing hardened with `storeId` fallback for stores without configured subdomain.
  - Public storefront + static-page preview APIs now support store lookup by id during preview.
- Impact:
  - Store owner can activate/preview themes reliably in dev/demo environments.

UPDATE [2026-02-20] - SUBDOMAIN, CUSTOM DOMAIN, CLOUDFARE DNS, SSL PURCHASE FLOW
- Developed:
  - Automatic tenant subdomain generation and Cloudflare provisioning on first store creation/onboarding complete.
  - Automatic custom-domain DNS mapping via Cloudflare (CNAME + verification TXT) with retry/verify flow.
  - Marketplace-style SSL purchase gate for custom domains before Let’s Encrypt issuance.
  - Verified custom domain host is now recognized by tenancy resolver.
- Partial:
  - Real payment-gateway callback/reconciliation for SSL purchase reference is still placeholder (purchase endpoint currently stores payment reference and triggers issuance flow).
- Pending:
  - Full invoice/chargeback lifecycle for SSL marketplace purchases.

UPDATE [2026-02-20] - PLATFORM DOMAIN GOVERNANCE + CLOUDFLARE/SSL CONFIG UI
- Developed:
  - Platform Owner can now view all tenant subdomains and all custom domains with status.
  - Platform Owner menu now includes dedicated Domains & SSL module.
  - Platform Owner can configure Cloudflare and Let’s Encrypt values from UI (persisted in platform settings).
  - DNS/SSL runtime services consume platform settings (DB) with env fallback.
  - Subdomain collision policy is deterministic: normalize + numeric suffix increment.
- Partial:
  - Secure secret storage for Cloudflare token is plain platform settings currently (no KMS integration yet).

## Domain & SSL Management (Advanced) - 2026-02-21 update
| Module | Status | Developed | Partial / Need to Develop |
|---|---|---|---|
| Cloudflare Integration | Partial+ | Token-based API integration, connectivity test API, zones discovery API, subdomain/custom-domain DNS automation | Direct Cloudflare OAuth onboarding UI flow |
| ACME / Let's Encrypt Orchestration | Partial+ | Configurable ACME client/challenge/directory, issuer command placeholders (`{domain}`, `{email}`, `{challenge}`, `{acmeDirectory}`), provider health check API | Runtime install automation for cert clients + managed renew scheduler dashboard |
| Platform Owner Domain Console | Developed | Config form now includes ACME controls, Cloudflare test/load-zones action, SSL provider runtime check action | Deeper diagnostics history and command output timeline |

## Platform Owner Domain/Auth Improvements - 2026-02-21 follow-up
| Module | Status | Developed | Partial / Need to Develop |
|---|---|---|---|
| Platform module reliability | Developed | Fixed database query compatibility for platform API/config/domains/report modules using PostgreSQL-safe `ILike` filters | Add automated backend smoke check in CI for owner-module endpoints |
| Cloudflare OAuth-style connect | Partial+ | OAuth start/callback flow, CSRF-style state check, token exchange persistence, owner UI controls | Finalize production Cloudflare OAuth endpoint/app setup values and verify on deployed env |

## Domains/SSL Monetization Flow - 2026-02-21 update
| Module | Status | Developed | Partial / Need to Develop |
|---|---|---|---|
| Cloudflare OAuth setup UX | Developed | Default Cloudflare OAuth endpoints auto-provided, redirect URI auto-derivation from current host | Optional one-click Cloudflare app bootstrap is pending |
| SSL marketplace pricing | Developed | Platform owner can set SSL price (INR), store domain UI displays purchase price, backend returns price with domain records | Real payment capture + invoice + refund lifecycle for SSL purchase |

## Production Domain Safety - 2026-02-21 update
| Module | Status | Developed | Partial / Need to Develop |
|---|---|---|---|
| Tenant subdomain governance | Developed | Strict subdomain validator + reserved keywords + global uniqueness with deterministic suffixing | Reserved list management UI for platform owner |
| Multi-subdomain CORS | Developed | Pattern-based wildcard subdomain origin matching (`https://*.domain.com`) | Optional per-tenant dynamic CORS policy service |
| Origin TLS lifecycle | Partial | Cloudflare edge/domain flows implemented | Automated Cloudflare Origin CA / certbot origin cert rotation |

## Origin TLS Automation - 2026-02-21 update
| Module | Status | Developed | Partial / Need to Develop |
|---|---|---|---|
| Cloudflare-to-origin TLS lifecycle | Partial+ | Configurable issue/renew command, cert/key path status checks, expiry visibility, owner-triggered renew API | Automated scheduled renew worker + failure retry queue + alerting |

## Product Media Management - 2026-02-21 update
| Module | Status | Developed | Partial / Need to Develop |
|---|---|---|---|
| Product media section | Partial+ | Multi-image input, drag-reorder + move controls, optional video URL, preview panel, payload sort-order persistence | Direct binary upload service + media optimization/CDN pipeline |

## Product Upload + Category Wiring - 2026-02-21 update
| Module | Status | Developed | Partial / Need to Develop |
|---|---|---|---|
| Direct product media pipeline | Developed | Product media upload API + URL ingestion API + tenancy checks + media persistence rows | Direct signed upload to object storage (browser-to-S3/R2) |
| Image normalization | Developed | Automatic resize/normalize to 1200x1200 WebP for uploaded/fetched images | Optional per-theme/per-slot variant generation pipeline |
| Product category UX | Developed | Category list filter + category select in product form + quick category create from dialog | Advanced category tree management UI |

## Product Image Uniformity - 2026-02-21 update
| Module | Status | Developed | Partial / Need to Develop |
|---|---|---|---|
| Automatic image optimization | Developed | External product image URLs are auto-fetched and normalized into same-size optimized assets on save (frontend + backend enforcement) | Background re-optimization job for legacy existing media |

## Dynamic CORS Governance - 2026-02-21 update
| Module | Status | Developed | Partial / Need to Develop |
|---|---|---|---|
| CORS whitelist management | Developed | Runtime CORS registry + platform CORS CSV + store-owner CORS CSV + wildcard host support | Per-origin usage analytics and CORS audit events |

## Build Stability Fix - 2026-02-21 update
| Module | Status | Developed | Partial / Need to Develop |
|---|---|---|---|
| Product media build path | Developed | Fixed CS0266 compile blocker in product normalization assignment | Clean up nullable warning in CSRF middleware |

## Store Context Stability - 2026-02-21 update
| Module | Status | Developed | Partial / Need to Develop |
|---|---|---|---|
| Active store auto-binding | Developed | Login tenancy now returns current store id; frontend active-store hook auto-binds store context from auth/access + stores list | Multi-store explicit switch memory per user/device |
